!function(e){var t=["alt","src","title","value","placeholder"],n=function(){function e(e){void 0===e&&(e="cn"),this._defaultLang=e}return e.prototype.parse=function(e){var t,n={optionsLang:{},currentLang:null,currentText:null};return e=String(e).replace(/<!--\{([\w-]+)\}-->([^]+?)<!--\/\{\1\}-->|<!--\{([\w-]+)\}([^]+?)-->/g,function(e,o,a,r,i){return t=!0,o?(n.currentLang=o,n.currentText=a,n.optionsLang[o]=a):n.optionsLang[r]=i,""}),t?(e=e.trim(),e&&(n.defaultText=e,n.optionsLang[this._defaultLang]||(n.optionsLang[this._defaultLang]=e)),n):null},e.prototype.build=function(e,t){var n="";if(Object.keys(t.optionsLang).forEach(function(o){var a=t.optionsLang[o];n+=o===e?"\x3c!--{"+o+"}--\x3e"+a+"\x3c!--/{"+o+"}--\x3e":"\x3c!--{"+o+"}"+a+"--\x3e"}),!t.optionsLang[e]){var o=this._defaultLang,a=t.optionsLang[this._defaultLang];n+="\x3c!--{"+o+"}--\x3e"+a+"\x3c!--/{"+o+"}--\x3e"}return n},e.prototype.update=function(e,n){var o=this;e=e||this._defaultLang,n?"string"==typeof n&&(n=document.querySelector(n)):n=document.documentElement;for(var a,r=document.createNodeIterator(n,NodeFilter.SHOW_COMMENT,null,!1),i=[],u=[];a=r.nextNode();)i.indexOf(a.parentNode)>=0||/^(script|style|link)$/i.test(a.parentNode.nodeName)||!/^\{[\w-]+\}/.test(a.nodeValue)||(console.log("node.nodeValue: %j",a.nodeValue),i.push(a.parentNode),u.push(this.parse(a.parentNode.innerHTML)));i.forEach(function(t,n){u[n]&&(t.innerHTML=o.build(e,u[n]))}),t.forEach(function(t){var a="data-lang-"+t;[].slice.call(n.querySelectorAll("["+a+"]")).forEach(function(n){var r=n.getAttribute(a),i=o.parse(r);i&&(i.optionsLang[o._defaultLang]||(i.optionsLang[o._defaultLang]=n.getAttribute(t)),n.setAttribute(a,o.build(e,i)),n.setAttribute(t,i.optionsLang[e]||i.optionsLang[o._defaultLang]))})})},e}(),o={Languages:n};"function"==typeof define?(define.amd||define.cmd)&&define(function(){return o}):"undefined"!=typeof module&&module.exports?module.exports=o:window.h5i18n=o}();