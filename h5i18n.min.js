!function(t){var e=function(){function t(){this.callbacks=[]}return t.prototype.on=function(t,e){return this.callbacks.push({event:t,fn:e}),this},t.prototype.off=function(t,e){return this.callbacks=this.callbacks.filter(function(n){return!(n.event===t&&n.fn===e)}),this},t.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return this.on(t,n),this},t.prototype.emit=function(t){for(var e=this,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];return this.callbacks.filter(function(e){return e.event===t}).forEach(function(t){t.fn.apply(e,n)}),this},t}(),n=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),i=["alt","src","title","value","placeholder","label"],o=function(t){function e(e,n){void 0===e&&(e="cn");var o=t.call(this)||this;return o._defaultLang=e,o._locale=e,o._attrs=n||i,o._dictionarys={},o}return n(e,t),e.prototype.dictionary=function(t){var e=this;t&&Object.keys(t).forEach(function(n){e._dictionarys[n]=t[n]})},e.prototype.parse=function(t){var e,n={optionsLang:{},locale:null,localeText:null};if(t=String(t).replace(/<!--\{([\w-]+)\}-->([^]*?)<!--\/\{\1\}-->|<!--\{([\w-]+|\*)\}([^]*?)-->/g,function(t,i,o,a,r){return e=!0,i?(n.locale=i,n.localeText=o,n.optionsLang[i]=o):n.optionsLang[a]=r,""}),!e)return null;if(t=t.trim(),t&&(n.defaultText=t,n.optionsLang[this._defaultLang]||(n.optionsLang[this._defaultLang]=t)),void 0!==n.optionsLang["*"]){var i;i=""===n.optionsLang["*"]?this.parse(this._dictionarys[t]):this.parse(this._dictionarys[n.optionsLang["*"]]),i&&(Object.keys(i.optionsLang).forEach(function(t){n.optionsLang[t]=i.optionsLang[t]}),n.locale=n.locale||i.locale,n.localeText=n.localeText||i.localeText)}return n},e.prototype.build=function(t,e,n){void 0===n&&(n=!1);var i="";if(Object.keys(e.optionsLang).forEach(function(o){var a=e.optionsLang[o];o===t?n?i=""+a+i:i+="\x3c!--{"+o+"}--\x3e"+a+"\x3c!--/{"+o+"}--\x3e":i+="\x3c!--{"+o+"}"+a+"--\x3e"}),!e.optionsLang[t]){var o=this._defaultLang,a=e.optionsLang[this._defaultLang]||"";n?i=""+a+i:i+="\x3c!--{"+o+"}--\x3e"+a+"\x3c!--/{"+o+"}--\x3e"}return i},e.prototype.update=function(t,e){var n=this;if(t=t||this._locale,this._locale!==t&&(this._locale=t,this.emit("change",t)),"undefined"!=typeof document){e?"string"==typeof e&&(e=document.querySelector(e)):e=document.documentElement;for(var i,o=document.createNodeIterator(e,NodeFilter.SHOW_COMMENT,null,!1),a=[],r=[];i=o.nextNode();)a.indexOf(i.parentNode)>=0||/^(script|style|link)$/i.test(i.parentNode.nodeName)||!/^\{[\w-]+\}/.test(i.nodeValue)||(a.push(i.parentNode),r.push(this.parse(i.parentNode.innerHTML)));if(a.forEach(function(e,i){e.innerHTML=n.build(t,r[i])}),this._attrs.forEach(function(i){var o="data-lang-"+i;[].slice.call(e.querySelectorAll("["+o+"]")).forEach(function(e){var a=e.getAttribute(o),r=n.parse(a);r&&(r.optionsLang[n._defaultLang]||(r.optionsLang[n._defaultLang]=e.getAttribute(i)),e.setAttribute(o,n.build(t,r)),e.setAttribute(i,r.optionsLang[t]||r.optionsLang[n._defaultLang]))})}),e===document.documentElement){var l=document.querySelector("title");if(l&&l.hasAttribute("data-lang-content")){var c=l.getAttribute("data-lang-content"),s=this.parse(c);if(!s)return;s.optionsLang[this._defaultLang]||(s.optionsLang[this._defaultLang]=l.textContent),l.setAttribute("data-lang-content",this.build(t,s)),l.textContent=s.optionsLang[t]||s.optionsLang[this._defaultLang]}}}},e.prototype.get=function(t,e){e=e||this._locale;var n=this.parse(t);return n?void 0!==n.optionsLang[e]?n.optionsLang[e]:void 0!==n.defaultText?n.defaultText:n.optionsLang[this._defaultLang]:t},Object.defineProperty(e.prototype,"locale",{get:function(){return this._locale},set:function(t){this._locale!==t&&this.update(t)},enumerable:!0,configurable:!0}),e.prototype.replace=function(t,e,n){var i=this;e||(e=this.locale),t=String(t).replace(/((?:(?:\w+\.)+)get)\((['"`])(.*?-->)\2\)/g,function(t,o,a,r){if(n){var l=n("code",r);if(!1===l)return t;if(l){return o+"("+a+i.build(e,l,!0)+a+")"}}return a+i.get(r,e)+a}).replace(/<title(?=\s)((?:"[^"]*"|'[^']*'|[^'"<>])*?)\s+data-lang-content=('|")(.*?)\2((?:"[^"]*"|'[^']*'|[^'"<>])*)>([^]*?)<\/title>/g,function(t,o,a,r,l,c){if(n){var s=n("title",c+r);if(!1===s)return t;if(s){var u=i.build(e,s,!0),f=u.indexOf("\x3c!--"),p=u.slice(0,f);return"<title data-lang-content="+a+u.slice(f)+a+o+l+">"+p+"</title>"}}return"<title"+o+l+">"+i.get(c+r,e)+"</title>"}).replace(/<(?!title\s)("[^"]*"|'[^']*'|[^'"<>])+(data-lang-\w+)("[^"]*"|'[^']*'|[^'"<>])+>/g,function(t){var o={},a=t.replace(/((?:\s*)(?:[\w-])*)data-lang((?:-\w+)+)\s*=\s*(['"])([^]*?)(\3)/g,function(t,e,n,i,a){return e.trim()?t:(o[n.slice(1)]=a,e.trim())}),r=0,l=Object.keys(o);return l.forEach(function(t){a=a.replace(new RegExp("(['\"\\s]"+t+"\\s*=\\s*)(['\"])([^]*?)(\\2)","g"),function(a,l,c,s){if(n){var u=n("attribute",s+o[t]);if(!1===u)return r++,""+l+c+s+c+" data-lang-"+t+"="+c+o[t]+c;if(u){var f=i.build(e,u,!0),p=f.indexOf("\x3c!--"),d=f.slice(0,p),g=f.slice(p);return""+l+c+d+c+" data-lang-"+t+"="+c+g+c}}return l+c+i.get(s+o[t],e)+c})}),r===l.length?t:a});for(var o=0,a="";;){var r=t.slice(o).match(/((?:<!--\{(?:[\w*]+)\}.*?-->\s*)+)(<\/(\w+)>)/);if(!r){a+=t.slice(o);break}var l=r[3],c=r[1],s=RegExp["$`"],u=r[2],f=s.match(new RegExp("<("+l+")(?:\"[^\"]*\"|'[^']*'|[^\"'>])*>(?![^]*<\\1(?:\"[^\"]*\"|'[^']*'|[^\"'>])*>)"));if(!f){a+=t.slice(o);break}if(o+=r.index+r[0].length,c=RegExp["$'"]+c,s=s.slice(0,f.index)+f[0],n){var p=n("element",c);if(!1===p){a+=s+c+u;continue}if(p){a+=s+this.build(e,p,!0)+u;continue}}a+=s+this.get(c,e)+u}return a},e}(e),a={Languages:o};"function"==typeof define?(define.amd||define.cmd)&&define(function(){return a}):"undefined"!=typeof module&&module.exports?module.exports=a:window.h5i18n=a}();